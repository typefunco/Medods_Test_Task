# Тестовое задание для компании Medods в процессе выполнения
## Документация
    В проекте использовал:
    - Go
    - Postgres
    - JWT
    - Docker
    - Makefile
**Задание было следующим:**

Написать часть сервиса аутентификации.

Два REST маршрута:

- Первый маршрут выдает пару Access, Refresh токенов для пользователя с идентификатором (GUID) указанным в параметре запроса
- Второй маршрут выполняет Refresh операцию на пару Access, Refresh токенов

## URLs
Все маршруты находятся в файле routes.go.
``` go
    auth := router.Group("/auth"){
		auth.POST("/login/:user_id", authHandle.GenerateTokens)
		auth.POST("/refresh/:refresh_token", authHandle.RefreshTokens)
	}
```
## Логика
Я использовал все накопленные знания и постарался выстроить маскимально правильную архитектуру для данного проекта. Я разделил логику аутентификации пользователя и выдачи ему 2-ух токенов доступа. 

Я разделил логику запуска приложения, запуска базы данных, инициализации всех объектов, чтобы вся реализация лежала в отдельных файлах, а мы только брали нужные функции, не задумываясь над их реализацией.

В папке internal я все поделил на 4 логических блока: 
**app** - *загрузка всех зависимостей*
**config** - *конфигурационные данные*
**entities** - *Описание сущностей пользователя и 2-ух токенов*
**handlers** - *обработчики HTTP запросов
**utils** - утилиты, которые потребовались в процессе выполнения задач. Генерация JWT, создания хэша для хранения токена в базе данных и т.д*

## Как собрать?
Я специально для удобства создал Makefile, чтобы вам не пришлось разбираться внутри кода. Вам следует перейти в корень проекта и выполнить 2 команды
### 1 команда
``` make
make docker-build
```
Данная команда соберет image
### 2 команда
``` make
make docker-run
```
Данная команда запустит image на порту 8080

### Важное замечание
Вам следует создать базу данных со всеми нужными полями, чтобы корректно протестировать функционал приложения